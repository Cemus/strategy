@if (fief.type === fiefTypeEnum.Empty) {
  <div>
    <h4 class="text-lg font-semibold mb-2">Build a new Fief</h4>
    <ul class="list-inside">
      @for (upgrade of fief.upgrades; track $index) {
        <li>
          <button
            class="m-1 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded cursor-pointer"
            [ngClass]="{
              'bg-gray-700': upgrade.cost > fief.faction.stats.gold,
              'hover:bg-gray-700': upgrade.cost > fief.faction.stats.gold,
            }"
            (click)="buildFief(upgrade)"
          >
            {{ upgrade.name }} (Cost: {{ upgrade.cost }})
            @if (!upgrade.bought && fief.faction.stats.gold < upgrade.cost) {
              <small class="text-red-300"> (Too expensive) </small>
            }
          </button>
        </li>
      }
    </ul>
  </div>
} @else {
  <h4 class="text-lg font-semibold mb-2">Fief Upgrades</h4>
  @if (fief.upgrades.length) {
    <ul class="list-inside">
      @for (upgrade of fief.upgrades; track $index) {
        <li>
          <button
            class="m-1 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded cursor-pointer"
            [ngClass]="{
              'bg-gray-700': upgrade.cost > fief.faction.stats.gold,
              'hover:bg-gray-700': upgrade.cost > fief.faction.stats.gold,
            }"
            (click)="buildFief(upgrade)"
          >
            <span [class.line-through]="upgrade.bought" class="mr-2">
              {{ upgrade.name }} (Cost: {{ upgrade.cost }})
            </span>
            @if (upgrade.bought) {
              <small class="text-green-400">(Bought)</small>
            }
            @if (!upgrade.bought && fief.faction.stats.gold < upgrade.cost) {
              <small
                *ngIf="
                  !upgrade.bought && fief.faction.stats.gold < upgrade.cost
                "
                class="text-red-300"
              >
                (Too expensive)
              </small>
            }
          </button>
        </li>
      }
    </ul>
  } @else {
    <p class="italic text-sm">No upgrades available.</p>
  }
}
